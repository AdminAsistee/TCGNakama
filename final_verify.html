
<div
    class="flex flex-col group obsidian-glass p-2 rounded-2xl vault-card-outline transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 shadow-lg">
    <!-- Modal Trigger Area (Image) -->
    <div class="relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer" hx-get="/product/gid://shopify/Product/9898583458039"
        hx-target="#modal-container" hx-swap="innerHTML">
        <img alt="ピカチュウ (Pikachu) - SML (Starter Set: TAG TEAM GX) #018/051"
            class="w-full h-full object-cover rounded-xl transition-transform duration-500 group-hover:scale-110"
            src="https://cdn.shopify.com/s/files/1/0922/8868/0183/files/CopyofCopyofCopyofCopyofScan67_91982a30-cc6b-4aeb-bab9-7129817e4ee9.jpg?v=1770273672" />
        <div
            class="absolute top-3 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-black text-white border border-white/10 uppercase tracking-widest">
            COMMON
        </div>
        
        <div
            class="absolute top-12 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-bold text-white border border-white/10 flex items-center gap-1 shadow-sm">
            <span class="material-symbols-outlined text-[10px] text-green-400">check_circle</span>
            <span>In Stock</span>
        </div>
        
    </div>

    <!-- Info & Action Area -->
    <div class="mt-4 px-1 space-y-3">
        <div hx-get="/product/gid://shopify/Product/9898583458039" hx-target="#modal-container" hx-swap="innerHTML" class="cursor-pointer">
            <div class="flex items-center justify-between">
                <h4 class="text-xs font-bold truncate pr-2 text-white/90">ピカチュウ (Pikachu) - SML (Starter Set: TAG TEAM GX) #018/051</h4>
                <div class="flex items-center gap-1">
                    <span
                        class="w-1 h-1 rounded-full bg-green-500"></span>
                    <span class="text-[7px] text-gray-500 uppercase font-black">Sync</span>
                </div>
            </div>
            <p class="text-[9px] text-gray-500 font-medium tracking-tight">Common • SML (Starter Set</p>
        </div>

        <div class="flex items-center justify-between pt-1">
            <span class="text-sm font-black text-primary">¥1,400</span>

            <!-- Quick Add Controls -->
            <div class="flex items-center gap-2">
                <div class="flex items-center bg-white/5 border border-white/10 rounded-full p-0.5 h-8">
                    <button onclick="updateQty('grid-qty-9898583458039', -1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">remove</span>
                    </button>
                    <span id="grid-qty-9898583458039" class="w-6 text-center text-[10px] font-black">1</span>
                    <button onclick="updateQty('grid-qty-9898583458039', 1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">add</span>
                    </button>
                </div>

                <button
                    onclick="handleCartAction('gid://shopify/ProductVariant/50475028578551', 'add', event, 'grid-qty-9898583458039')"
                    class="w-8 h-8 rounded-full bg-primary/10 border border-primary/20 text-primary flex items-center justify-center hover:bg-primary/20 active:scale-90 transition-all">
                    <span class="material-symbols-outlined text-sm">add_shopping_cart</span>
                </button>
            </div>
        </div>
    </div>
</div>

<div
    class="flex flex-col group obsidian-glass p-2 rounded-2xl vault-card-outline transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 shadow-lg">
    <!-- Modal Trigger Area (Image) -->
    <div class="relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer" hx-get="/product/gid://shopify/Product/9898583425271"
        hx-target="#modal-container" hx-swap="innerHTML">
        <img alt="ピカチュウ (Pikachu) - Pokémon GO #027/071"
            class="w-full h-full object-cover rounded-xl transition-transform duration-500 group-hover:scale-110"
            src="https://cdn.shopify.com/s/files/1/0922/8868/0183/files/CopyofCopyofCopyofCopyofScan63.jpg?v=1770273471" />
        <div
            class="absolute top-3 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-black text-white border border-white/10 uppercase tracking-widest">
            COMMON
        </div>
        
        <div
            class="absolute top-12 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-bold text-white border border-white/10 flex items-center gap-1 shadow-sm">
            <span class="material-symbols-outlined text-[10px] text-green-400">check_circle</span>
            <span>In Stock</span>
        </div>
        
    </div>

    <!-- Info & Action Area -->
    <div class="mt-4 px-1 space-y-3">
        <div hx-get="/product/gid://shopify/Product/9898583425271" hx-target="#modal-container" hx-swap="innerHTML" class="cursor-pointer">
            <div class="flex items-center justify-between">
                <h4 class="text-xs font-bold truncate pr-2 text-white/90">ピカチュウ (Pikachu) - Pokémon GO #027/071</h4>
                <div class="flex items-center gap-1">
                    <span
                        class="w-1 h-1 rounded-full bg-green-500"></span>
                    <span class="text-[7px] text-gray-500 uppercase font-black">Sync</span>
                </div>
            </div>
            <p class="text-[9px] text-gray-500 font-medium tracking-tight">Common • Pokémon GO</p>
        </div>

        <div class="flex items-center justify-between pt-1">
            <span class="text-sm font-black text-primary">¥156</span>

            <!-- Quick Add Controls -->
            <div class="flex items-center gap-2">
                <div class="flex items-center bg-white/5 border border-white/10 rounded-full p-0.5 h-8">
                    <button onclick="updateQty('grid-qty-9898583425271', -1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">remove</span>
                    </button>
                    <span id="grid-qty-9898583425271" class="w-6 text-center text-[10px] font-black">1</span>
                    <button onclick="updateQty('grid-qty-9898583425271', 1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">add</span>
                    </button>
                </div>

                <button
                    onclick="handleCartAction('gid://shopify/ProductVariant/50475028545783', 'add', event, 'grid-qty-9898583425271')"
                    class="w-8 h-8 rounded-full bg-primary/10 border border-primary/20 text-primary flex items-center justify-center hover:bg-primary/20 active:scale-90 transition-all">
                    <span class="material-symbols-outlined text-sm">add_shopping_cart</span>
                </button>
            </div>
        </div>
    </div>
</div>

<div
    class="flex flex-col group obsidian-glass p-2 rounded-2xl vault-card-outline transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 shadow-lg">
    <!-- Modal Trigger Area (Image) -->
    <div class="relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer" hx-get="/product/gid://shopify/Product/9898583294199"
        hx-target="#modal-container" hx-swap="innerHTML">
        <img alt="Pikachu - SV-P Promo #120/SV-P"
            class="w-full h-full object-cover rounded-xl transition-transform duration-500 group-hover:scale-110"
            src="https://cdn.shopify.com/s/files/1/0922/8868/0183/files/CopyofCopyofCopyofCopyofScan69_dc61c122-c846-4e25-937d-b4015c5303bd.jpg?v=1770273332" />
        <div
            class="absolute top-3 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-black text-white border border-white/10 uppercase tracking-widest">
            RARE
        </div>
        
        <div
            class="absolute top-12 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-bold text-white border border-white/10 flex items-center gap-1 shadow-sm">
            <span class="material-symbols-outlined text-[10px] text-green-400">check_circle</span>
            <span>In Stock</span>
        </div>
        
    </div>

    <!-- Info & Action Area -->
    <div class="mt-4 px-1 space-y-3">
        <div hx-get="/product/gid://shopify/Product/9898583294199" hx-target="#modal-container" hx-swap="innerHTML" class="cursor-pointer">
            <div class="flex items-center justify-between">
                <h4 class="text-xs font-bold truncate pr-2 text-white/90">Pikachu - SV-P Promo #120/SV-P</h4>
                <div class="flex items-center gap-1">
                    <span
                        class="w-1 h-1 rounded-full bg-green-500"></span>
                    <span class="text-[7px] text-gray-500 uppercase font-black">Sync</span>
                </div>
            </div>
            <p class="text-[9px] text-gray-500 font-medium tracking-tight">Rare • SV-P Promo</p>
        </div>

        <div class="flex items-center justify-between pt-1">
            <span class="text-sm font-black text-primary">¥1,200</span>

            <!-- Quick Add Controls -->
            <div class="flex items-center gap-2">
                <div class="flex items-center bg-white/5 border border-white/10 rounded-full p-0.5 h-8">
                    <button onclick="updateQty('grid-qty-9898583294199', -1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">remove</span>
                    </button>
                    <span id="grid-qty-9898583294199" class="w-6 text-center text-[10px] font-black">1</span>
                    <button onclick="updateQty('grid-qty-9898583294199', 1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">add</span>
                    </button>
                </div>

                <button
                    onclick="handleCartAction('gid://shopify/ProductVariant/50475025989879', 'add', event, 'grid-qty-9898583294199')"
                    class="w-8 h-8 rounded-full bg-primary/10 border border-primary/20 text-primary flex items-center justify-center hover:bg-primary/20 active:scale-90 transition-all">
                    <span class="material-symbols-outlined text-sm">add_shopping_cart</span>
                </button>
            </div>
        </div>
    </div>
</div>

<div
    class="flex flex-col group obsidian-glass p-2 rounded-2xl vault-card-outline transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 shadow-lg">
    <!-- Modal Trigger Area (Image) -->
    <div class="relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer" hx-get="/product/gid://shopify/Product/9898582376695"
        hx-target="#modal-container" hx-swap="innerHTML">
        <img alt="ピカチュウ (Pikachu) - s10a #014/071"
            class="w-full h-full object-cover rounded-xl transition-transform duration-500 group-hover:scale-110"
            src="https://cdn.shopify.com/s/files/1/0922/8868/0183/files/CopyofCopyofCopyofScan65_456d29b6-0cd4-4f49-93bc-2f2cde938352.jpg?v=1770272268" />
        <div
            class="absolute top-3 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-black text-white border border-white/10 uppercase tracking-widest">
            COMMON
        </div>
        
        <div
            class="absolute top-12 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-bold text-white border border-white/10 flex items-center gap-1 shadow-sm">
            <span class="material-symbols-outlined text-[10px] text-green-400">check_circle</span>
            <span>In Stock</span>
        </div>
        
    </div>

    <!-- Info & Action Area -->
    <div class="mt-4 px-1 space-y-3">
        <div hx-get="/product/gid://shopify/Product/9898582376695" hx-target="#modal-container" hx-swap="innerHTML" class="cursor-pointer">
            <div class="flex items-center justify-between">
                <h4 class="text-xs font-bold truncate pr-2 text-white/90">ピカチュウ (Pikachu) - s10a #014/071</h4>
                <div class="flex items-center gap-1">
                    <span
                        class="w-1 h-1 rounded-full bg-green-500"></span>
                    <span class="text-[7px] text-gray-500 uppercase font-black">Sync</span>
                </div>
            </div>
            <p class="text-[9px] text-gray-500 font-medium tracking-tight">Common • s10a</p>
        </div>

        <div class="flex items-center justify-between pt-1">
            <span class="text-sm font-black text-primary">¥600</span>

            <!-- Quick Add Controls -->
            <div class="flex items-center gap-2">
                <div class="flex items-center bg-white/5 border border-white/10 rounded-full p-0.5 h-8">
                    <button onclick="updateQty('grid-qty-9898582376695', -1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">remove</span>
                    </button>
                    <span id="grid-qty-9898582376695" class="w-6 text-center text-[10px] font-black">1</span>
                    <button onclick="updateQty('grid-qty-9898582376695', 1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">add</span>
                    </button>
                </div>

                <button
                    onclick="handleCartAction('gid://shopify/ProductVariant/50475015340279', 'add', event, 'grid-qty-9898582376695')"
                    class="w-8 h-8 rounded-full bg-primary/10 border border-primary/20 text-primary flex items-center justify-center hover:bg-primary/20 active:scale-90 transition-all">
                    <span class="material-symbols-outlined text-sm">add_shopping_cart</span>
                </button>
            </div>
        </div>
    </div>
</div>

<div
    class="flex flex-col group obsidian-glass p-2 rounded-2xl vault-card-outline transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 shadow-lg">
    <!-- Modal Trigger Area (Image) -->
    <div class="relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer" hx-get="/product/gid://shopify/Product/9898581655799"
        hx-target="#modal-container" hx-swap="innerHTML">
        <img alt="ピカチュウ (Pikachu) - Pikachu VMAX Starter Set #001/024"
            class="w-full h-full object-cover rounded-xl transition-transform duration-500 group-hover:scale-110"
            src="https://cdn.shopify.com/s/files/1/0922/8868/0183/files/CopyofCopyofScan61.jpg?v=1770271735" />
        <div
            class="absolute top-3 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-black text-white border border-white/10 uppercase tracking-widest">
            COMMON
        </div>
        
        <div
            class="absolute top-12 left-3 px-2 py-1 bg-black/70 backdrop-blur-md rounded-md text-[8px] font-bold text-white border border-white/10 flex items-center gap-1 shadow-sm">
            <span class="material-symbols-outlined text-[10px] text-green-400">check_circle</span>
            <span>In Stock</span>
        </div>
        
    </div>

    <!-- Info & Action Area -->
    <div class="mt-4 px-1 space-y-3">
        <div hx-get="/product/gid://shopify/Product/9898581655799" hx-target="#modal-container" hx-swap="innerHTML" class="cursor-pointer">
            <div class="flex items-center justify-between">
                <h4 class="text-xs font-bold truncate pr-2 text-white/90">ピカチュウ (Pikachu) - Pikachu VMAX Starter Set #001/024</h4>
                <div class="flex items-center gap-1">
                    <span
                        class="w-1 h-1 rounded-full bg-green-500"></span>
                    <span class="text-[7px] text-gray-500 uppercase font-black">Sync</span>
                </div>
            </div>
            <p class="text-[9px] text-gray-500 font-medium tracking-tight">Common • Pikachu VMAX Starter Set</p>
        </div>

        <div class="flex items-center justify-between pt-1">
            <span class="text-sm font-black text-primary">¥600</span>

            <!-- Quick Add Controls -->
            <div class="flex items-center gap-2">
                <div class="flex items-center bg-white/5 border border-white/10 rounded-full p-0.5 h-8">
                    <button onclick="updateQty('grid-qty-9898581655799', -1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">remove</span>
                    </button>
                    <span id="grid-qty-9898581655799" class="w-6 text-center text-[10px] font-black">1</span>
                    <button onclick="updateQty('grid-qty-9898581655799', 1); event.stopPropagation();"
                        class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                        <span class="material-symbols-outlined text-[12px]">add</span>
                    </button>
                </div>

                <button
                    onclick="handleCartAction('gid://shopify/ProductVariant/50475006034167', 'add', event, 'grid-qty-9898581655799')"
                    class="w-8 h-8 rounded-full bg-primary/10 border border-primary/20 text-primary flex items-center justify-center hover:bg-primary/20 active:scale-90 transition-all">
                    <span class="material-symbols-outlined text-sm">add_shopping_cart</span>
                </button>
            </div>
        </div>
    </div>
</div>






<div id="collection-filters" class="flex gap-3 mt-4 overflow-x-auto hide-scrollbar px-1" hx-swap-oob="true"
    >
    <!-- DEBUG: svr_active_collection=pokemon -->
    
    
    <div class="collection-filter flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full border px-4 cursor-pointer transition-all duration-300 bg-primary border-primary shadow-[0_0_20px_rgba(244,37,209,0.5)]"
        onclick="setActiveCollection('pokemon', this)">
        
        <p
            class="text-[10px] font-black uppercase whitespace-nowrap text-white">
            Pokemon (SELECTED)
        </p>
    </div>
    
    
    <div class="collection-filter flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full border px-4 cursor-pointer transition-all duration-300 bg-white/5 border-white/10 hover:bg-white/10"
        onclick="setActiveCollection('one-piece', this)">
        
        <p
            class="text-[10px] font-black uppercase whitespace-nowrap text-gray-300">
            One Piece
        </p>
    </div>
    
</div>
<div id="rarity-filters" class="flex gap-2" hx-swap-oob="true" >
    <!-- DEBUG: svr_active_rarity=None -->
    
    
    
    <div class="rarity-filter flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full border px-4 cursor-pointer transition-all duration-300 bg-white/5 border-white/10 hover:bg-white/10"
        onclick="setActiveFilter('Common', this)">
        <p
            class="text-[10px] font-bold uppercase whitespace-nowrap text-gray-300">
            Common
        </p>
    </div>
    
    
    <div class="rarity-filter flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full border px-4 cursor-pointer transition-all duration-300 bg-white/5 border-white/10 hover:bg-white/10"
        onclick="setActiveFilter('Uncommon', this)">
        <p
            class="text-[10px] font-bold uppercase whitespace-nowrap text-gray-300">
            Uncommon
        </p>
    </div>
    
    
    <div class="rarity-filter flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full border px-4 cursor-pointer transition-all duration-300 bg-white/5 border-white/10 hover:bg-white/10"
        onclick="setActiveFilter('Rare', this)">
        <p
            class="text-[10px] font-bold uppercase whitespace-nowrap text-gray-300">
            Rare
        </p>
    </div>
    
    
    <div class="rarity-filter flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full border px-4 cursor-pointer transition-all duration-300 bg-white/5 border-white/10 hover:bg-white/10"
        onclick="setActiveFilter('Epic', this)">
        <p
            class="text-[10px] font-bold uppercase whitespace-nowrap text-gray-300">
            Epic
        </p>
    </div>
    
    
    <div class="rarity-filter flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full border px-4 cursor-pointer transition-all duration-300 bg-white/5 border-white/10 hover:bg-white/10"
        onclick="setActiveFilter('Ultra Rare', this)">
        <p
            class="text-[10px] font-bold uppercase whitespace-nowrap text-gray-300">
            Ultra Rare
        </p>
    </div>
    
</div>
